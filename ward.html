<!-- <!DOCTYPE html> -->
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ward List</title>
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link rel="stylesheet" href="./css/style.css">
    </head>
    <body>

        <table class="table">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Ward</th>
                <th scope="col">Ward Admin</th>
                <th scope="col">Phone Number</th>
              </tr>
            </thead>
            <tbody id="body">
              <!-- <tr>
                <th scope="row">1</th>
                <td><a href="">admin</a></td>
                <td>00000000000</td>
              </tr> -->
            </tbody>
          </table>

        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

        <!-- api -->
        <script src="./js/api/rooturl.js"></script>
        <script src="./js/api/admin/getAllAdmin.js"></script>
        <script>
          const storeWardNo =(wardNo)=>{
            localStorage.setItem('wardNo', wardNo)
            location.replace('./wardAdminDashboard.html')
          }
          let admins = getAllAdmin()
          admins.then(admins=>{
              if(admins.length!==0){
                admins.forEach(admin=>{
                  document.getElementById('body').innerHTML += 
                  `
                  <tr>
                    <th scope="row">${admin.wardNo}</th>
                    <td>
                      <button class="btn btn-link" id="create-ward" onClick=storeWardNo(${admin.wardNo})>${admin.name}</button>
                    </td>
                    <td>+91${admin.phoneNumber}</td>
                  </tr>
                  `
                })
              }
          })
        </script>
    </body>
</html>